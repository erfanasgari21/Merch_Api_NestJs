{"openapi":"3.0.0","paths":{"/auth/signup":{"post":{"operationId":"AuthController_signup","summary":"Create a new user","description":"This api is used to create a new user and return a JWT token.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthDto"}}}},"responses":{"201":{"description":"User created successfully"}},"tags":["auth"]}},"/auth/login":{"post":{"operationId":"AuthController_login","summary":"Login a user","description":"This api is used to login a user and return a JWT token.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Auth"}}}},"403":{"description":"Invalid email or password"}},"tags":["auth"]}},"/users/me":{"get":{"operationId":"UserController_getMe","summary":"Get user profile","description":"This api is used to get user profile information.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["user"],"security":[{"bearer":[]}]}},"/users/edit":{"patch":{"operationId":"UserController_editUser","summary":"Edit user profile","description":"This api is used to edit user personal information including firstname and lastname.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["user"],"security":[{"bearer":[]}]}},"/designs":{"post":{"operationId":"DesignController_createDesign","summary":"Create a new Design","description":"This api is used to create a new design","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDesignDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Design"}}}}},"tags":["design"],"security":[{"bearer":[]}]},"get":{"operationId":"DesignController_getDesigns","summary":"Get Designs of User","description":"This api is used to get all designs of logged in user.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Design"}}}}}},"tags":["design"],"security":[{"bearer":[]}]}},"/designs/{id}":{"get":{"operationId":"DesignController_getDesignById","summary":"Get Design by Id","description":"This apis returns a design by its id. note that the design must belong to the logged in user.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Design"}}}},"403":{"description":"Access to Design denied"},"404":{"description":"Design not found"}},"tags":["design"],"security":[{"bearer":[]}]},"patch":{"operationId":"DesignController_editDesignById","summary":"Edit Design by Id","description":"This apis is used to edit a design by its id. note that the design must belong to the logged in user.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditDesignDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Design"}}}},"403":{"description":"Access to Design denied"},"404":{"description":"Design not found"}},"tags":["design"],"security":[{"bearer":[]}]},"delete":{"operationId":"DesignController_deleteDesignById","summary":"Delete Design by Id","description":"his apis is used to delete a design by its id. note that the design must belong to the logged in user.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Design"}}}},"403":{"description":"Access to Design denied"},"404":{"description":"Design not found"}},"tags":["design"],"security":[{"bearer":[]}]}},"/merchandises":{"get":{"operationId":"MerchandiseController_getMerchandises","summary":"Get All Merchandises","description":"This api returns all merchandises with pagination, sorting and specified queries","parameters":[{"name":"userId","required":false,"in":"query","schema":{"type":"string"}},{"name":"productId","required":false,"in":"query","schema":{"type":"string"}},{"name":"designId","required":false,"in":"query","schema":{"type":"string"}},{"name":"limit","required":false,"in":"query","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Merchandise"}}}}}},"tags":["merchandise"],"security":[{"bearer":[]}]},"post":{"operationId":"MerchandiseController_createMerchandise","summary":"Create a new Merchandise","description":"This api creates a new merchandise which is essentialy relating a design and a product. The design must belong to the user.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMerchandiseDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MyMerchandise"}}}}},"tags":["merchandise"],"security":[{"bearer":[]}]}},"/merchandises/merchandises/{id}":{"get":{"operationId":"MerchandiseController_getMerchandiseById","summary":"Get Merchandise By Id","description":"This api returns a merchandise by id. The Merchandise should not necessarily belong to the user.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Merchandise"}}}},"404":{"description":"Merchandise not found"}},"tags":["merchandise"],"security":[{"bearer":[]}]}},"/merchandises/bulk":{"post":{"operationId":"MerchandiseController_createMerchandiseBulk","summary":"Create many Merchandises","description":"This api creates many Merchandises using a design and a list of products as input. The design must belong to the user.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMerchandiseBulkDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["merchandise"],"security":[{"bearer":[]}]}},"/merchandises/my":{"get":{"operationId":"MerchandiseController_getMyMerchandises","summary":"Get My Merchandises","description":"This api returns all Merchandises belonging to the user.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MyMerchandise"}}}}}},"tags":["merchandise"],"security":[{"bearer":[]}]}},"/merchandises/my/{id}":{"get":{"operationId":"MerchandiseController_getMyMerchandiseById","summary":"Get My Merchandise By Id","description":"This api returns a Merchandise by id. The Merchandise must belong to the user.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MyMerchandise"}}}},"403":{"description":"Access to Merchandise denied"},"404":{"description":"Merchandise not found"}},"tags":["merchandise"],"security":[{"bearer":[]}]}},"/merchandises/{id}":{"patch":{"operationId":"MerchandiseController_editMerchandiseById","summary":"Edit Merchandise By Id","description":"This api edits a Merchandise by id. The Merchandise must belong to the user.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditMerchandiseDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MyMerchandise"}}}},"403":{"description":"Access to Merchandise denied"},"404":{"description":"Merchandise not found"}},"tags":["merchandise"],"security":[{"bearer":[]}]},"delete":{"operationId":"MerchandiseController_deleteMerchandiseById","summary":"Delete Merchandise By Id","description":"This api deletes a Merchandise by id. The Merchandise must belong to the user.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MyMerchandise"}}}},"403":{"description":"Access to Merchandise denied"},"404":{"description":"Merchandise not found"}},"tags":["merchandise"],"security":[{"bearer":[]}]}},"/products":{"post":{"operationId":"ProductController_createProduct","summary":"Create a new Product","description":"This api creates a new Product and returns the new Product.","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProductDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Product"}}}}},"tags":["product"],"security":[{"bearer":[]}]},"get":{"operationId":"ProductController_getAllProducts","summary":"Get all Products","description":"This api returns all of the Products of all users.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Product"}}}}}},"tags":["product"],"security":[{"bearer":[]}]}},"/products/my":{"get":{"operationId":"ProductController_getMyProducts","summary":"Get my Products","description":"This api returns all of the Products of the current user.","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Product"}}}}}},"tags":["product"],"security":[{"bearer":[]}]}},"/products/{id}":{"get":{"operationId":"ProductController_getProductById","summary":"Get Product by id","description":"This api returns the Product with the given id. Note that the Product must be owned by the current user.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Product"}}}},"403":{"description":"Access to Product denied"},"404":{"description":"Product not found"}},"tags":["product"],"security":[{"bearer":[]}]},"patch":{"operationId":"ProductController_editProductById","summary":"Edit Product by id","description":"This api edits the Product with the given id and returns the edited Product. Note that the Product must be owned by the current user.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EditProductDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Product"}}}},"403":{"description":"Access to Product denied"},"404":{"description":"Product not found"}},"tags":["product"],"security":[{"bearer":[]}]},"delete":{"operationId":"ProductController_deleteProductById","summary":"Delete Product by id","description":"This api deletes the Product with the given id and returns the deleted Product. Note that the Product must be owned by the current user.","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Product"}}}},"403":{"description":"Access to Product denied"},"404":{"description":"Product not found"}},"tags":["product"],"security":[{"bearer":[]}]}}},"info":{"title":"Modopod Assessment Task API","description":"This API is developed for Modopod assessment task.","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"AuthDto":{"type":"object","properties":{"email":{"type":"string","example":"leonardo@davinci.com"},"firstName":{"type":"string","example":"Leonardo"},"lastName":{"type":"string","example":"da Vinci"},"password":{"type":"string"}},"required":["email","password"]},"Auth":{"type":"object","properties":{"firstName":{"type":"string","example":"Leonardo"},"lastName":{"type":"string","example":"da Vinci"},"email":{"type":"string","example":"leonardo@davinci.com"},"access_token":{"type":"string","description":"Api Bearer Token"},"id":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["firstName","lastName","email","access_token","id","createdAt","updatedAt"]},"User":{"type":"object","properties":{"firstName":{"type":"string","example":"Leonardo"},"lastName":{"type":"string","example":"da Vinci"},"email":{"type":"string","example":"leonardo@davinci.com"},"id":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["firstName","lastName","email","id","createdAt","updatedAt"]},"EditUserDto":{"type":"object","properties":{"firstName":{"type":"string","example":"Leonardo"},"lastName":{"type":"string","example":"da Vinci"}}},"CreateDesignDto":{"type":"object","properties":{"title":{"type":"string","example":"Mona Lisa"},"description":{"type":"string","example":"The Mona Lisa is one of the most valuable paintings in the world."}},"required":["title"]},"Design":{"type":"object","properties":{"title":{"type":"string","example":"Mona Lisa"},"description":{"type":"string","example":"The Mona Lisa is one of the most valuable paintings in the world."},"id":{"type":"number"},"userId":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["title","description","id","userId","createdAt","updatedAt"]},"EditDesignDto":{"type":"object","properties":{"title":{"type":"string","example":"Mona Lisa"},"description":{"type":"string","example":"The Mona Lisa is one of the most valuable paintings in the world."}}},"Merchandise":{"type":"object","properties":{"design":{"type":"object","properties":{"user":{"type":"object","properties":{"firstName":{"required":true,"type":"string"},"lastname":{"required":true,"type":"string"},"id":{"required":true,"type":"number"}}},"title":{"required":true,"type":"string"},"description":{"required":true,"type":"string"},"id":{"required":true,"type":"number"}}},"product":{"type":"object","properties":{"title":{"required":true,"type":"string"},"description":{"required":true,"type":"string"},"id":{"required":true,"type":"number"}}},"id":{"type":"number"},"price":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["design","product","id","price","createdAt","updatedAt"]},"CreateMerchandiseDto":{"type":"object","properties":{"designId":{"type":"number"},"productId":{"type":"number"},"profit":{"type":"number","minimum":1}},"required":["designId","productId","profit"]},"MyMerchandise":{"type":"object","properties":{"id":{"type":"number"},"designId":{"type":"number"},"productId":{"type":"number"},"profit":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","designId","productId","profit","createdAt","updatedAt"]},"ProductItem":{"type":"object","properties":{"productId":{"type":"number"},"profit":{"type":"number","minimum":1}},"required":["productId","profit"]},"CreateMerchandiseBulkDto":{"type":"object","properties":{"designId":{"type":"number"},"products":{"type":"array","items":{"$ref":"#/components/schemas/ProductItem"}}},"required":["designId","products"]},"EditMerchandiseDto":{"type":"object","properties":{"profit":{"type":"number","minimum":1}}},"CreateProductDto":{"type":"object","properties":{"title":{"type":"string","example":"Tshirt"},"description":{"type":"string","example":"100% Cotton"},"basePrice":{"type":"number","minimum":1,"example":100000}},"required":["title","basePrice"]},"Product":{"type":"object","properties":{"title":{"type":"string","example":"Tshirt"},"description":{"type":"string","example":"100% Cotton"},"basePrice":{"type":"number","example":100000},"id":{"type":"number"},"userId":{"type":"number"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["title","description","basePrice","id","userId","createdAt","updatedAt"]},"EditProductDto":{"type":"object","properties":{"title":{"type":"string","example":"Tshirt"},"description":{"type":"string","example":"100% Cotton"},"basePrice":{"type":"number","minimum":1,"example":100000}}}}}}